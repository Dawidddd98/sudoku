<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sudoku Game</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f4f4f4;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      font-size: 20px;
    }

    body.dark {
      background-color: #121212;
      color: #eee;
    }

    #controls {
      margin-bottom: 15px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }

    #sudoku-board {
      display: grid;
      grid-template-columns: repeat(9, 60px);
      gap: 1px;
      border: 3px solid #333;
    }

    #sudoku-board input {
      width: 58px;
      height: 58px;
      text-align: center;
      font-size: 24px;
      border: 1px solid #ccc;
      background-color: white;
    }

    #sudoku-board input.given {
      background-color: #e0e0e0;
    }

    #sudoku-board input.active {
      border: 2px solid #3399ff !important;
      background: #e6f2ff;
    }

    #sudoku-board input:nth-child(3n) {
      border-right: 3px solid #000;
    }

    #sudoku-board input:nth-child(n+19):nth-child(-n+27),
    #sudoku-board input:nth-child(n+46):nth-child(-n+54) {
      border-bottom: 3px solid #000;
    }

    body.dark #sudoku-board input {
      background-color: #1e1e1e;
      color: #eee;
    }

    body.dark #sudoku-board input.given {
      background-color: #333;
    }

    body.dark #sudoku-board input.active {
      background-color: #1e2a33;
      border-color: #66ccff !important;
    }

    #number-pad {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-top: 30px;
      max-width: 300px;
      margin-inline: auto;
    }

    #number-pad button {
      font-size: 24px;
      padding: 15px;
      border-radius: 10px;
      border: 2px solid #999;
      background: #f0f0f0;
      cursor: pointer;
    }

    body.dark #number-pad button {
      background: #2a2a2a;
      color: #eee;
      border-color: #444;
    }

    #message {
      margin-top: 20px;
      font-size: 22px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div id="controls">
    <button id="new-game" data-i18n="newGame">Nowa gra</button>
    <select id="difficulty-select">
      <option value="easy" data-i18n="easy">Łatwy</option>
      <option value="medium" data-i18n="medium" selected>Średni</option>
      <option value="hard" data-i18n="hard">Trudny</option>
    </select>
    <button id="hint-btn" data-i18n="hint">Podpowiedź</button>
    <button onclick="toggleDarkMode()" data-i18n="darkMode">Tryb ciemny</button>
    <label for="language-select" data-i18n="language">Język:</label>
    <select id="language-select">
      <option value="en">English</option>
      <option value="pl">Polski</option>
      <option value="zh">中文</option>
      <option value="ru">Русский</option>
      <option value="fr">Français</option>
      <option value="it">Italiano</option>
      <option value="es">Español</option>
      <option value="pt">Português</option>
    </select>
    <div><span data-i18n="errors">Błędy:</span> <span id="errors">0</span></div>
    <div><span data-i18n="time">Czas:</span> <span id="timer">00:00</span></div>
  </div>

  <div id="sudoku-board"></div>

  <div id="number-pad">
    <button class="num">1</button>
    <button class="num">2</button>
    <button class="num">3</button>
    <button class="num">4</button>
    <button class="num">5</button>
    <button class="num">6</button>
    <button class="num">7</button>
    <button class="num">8</button>
    <button class="num">9</button>
  </div>

  <div id="message" data-i18n="message"></div>

  <script>
    const translations = {
      en: {
        newGame: "New Game", easy: "Easy", medium: "Medium", hard: "Hard", hint: "Hint",
        darkMode: "Dark Mode", language: "Language:", errors: "Errors:", time: "Time:",
        message: "",
        win: "Congratulations! You solved the puzzle.",
        lose: "You made 3 mistakes. Game over.",
      },
      pl: {
        newGame: "Nowa gra", easy: "Łatwy", medium: "Średni", hard: "Trudny", hint: "Podpowiedź",
        darkMode: "Tryb ciemny", language: "Język:", errors: "Błędy:", time: "Czas:",
        message: "",
        win: "Gratulacje! Rozwiązałeś Sudoku.",
        lose: "Popełniłeś 3 błędy. Koniec gry.",
      },
      zh: {
        newGame: "新游戏", easy: "简单", medium: "中等", hard: "困难", hint: "提示",
        darkMode: "深色模式", language: "语言：", errors: "错误：", time: "时间：",
        message: "",
        win: "恭喜！你完成了数独。",
        lose: "你犯了三次错误。游戏结束。",
      },
      ru: {
        newGame: "Новая игра", easy: "Лёгкий", medium: "Средний", hard: "Сложный", hint: "Подсказка",
        darkMode: "Тёмный режим", language: "Язык:", errors: "Ошибки:", time: "Время:",
        message: "",
        win: "Поздравляем! Вы решили судоку.",
        lose: "Вы допустили 3 ошибки. Игра окончена.",
      },
      fr: {
        newGame: "Nouvelle partie", easy: "Facile", medium: "Moyen", hard: "Difficile", hint: "Indice",
        darkMode: "Mode sombre", language: "Langue:", errors: "Erreurs:", time: "Temps:",
        message: "",
        win: "Félicitations! Vous avez résolu le sudoku.",
        lose: "Vous avez fait 3 erreurs. Partie terminée.",
      },
      it: {
        newGame: "Nuova partita", easy: "Facile", medium: "Medio", hard: "Difficile", hint: "Suggerimento",
        darkMode: "Modalità scura", language: "Lingua:", errors: "Errori:", time: "Tempo:",
        message: "",
        win: "Congratulazioni! Hai risolto il sudoku.",
        lose: "Hai fatto 3 errori. Fine del gioco.",
      },
      es: {
        newGame: "Nuevo juego", easy: "Fácil", medium: "Medio", hard: "Difícil", hint: "Pista",
        darkMode: "Modo oscuro", language: "Idioma:", errors: "Errores:", time: "Tiempo:",
        message: "",
        win: "¡Felicidades! Has resuelto el sudoku.",
        lose: "Has cometido 3 errores. Fin del juego.",
      },
      pt: {
        newGame: "Novo jogo", easy: "Fácil", medium: "Médio", hard: "Difícil", hint: "Dica",
        darkMode: "Modo escuro", language: "Idioma:", errors: "Erros:", time: "Tempo:",
        message: "",
        win: "Parabéns! Você resolveu o sudoku.",
        lose: "Você cometeu 3 erros. Fim de jogo.",
      }
    };

    const elementsToTranslate = document.querySelectorAll('[data-i18n]');

    function updateLanguage(lang) {
      elementsToTranslate.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });
    }

    document.getElementById('language-select').addEventListener('change', (e) => {
      const selectedLang = e.target.value;
      updateLanguage(selectedLang);
    });

    // Ustaw język domyślny
    updateLanguage('pl');
  </script>
</body>
</html>
